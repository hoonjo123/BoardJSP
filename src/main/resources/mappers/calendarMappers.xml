<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="calendarMappers">
    
    <select id="getCalendarList" resultType="woo.edu.c.vo.CalendarVo">
        SELECT CALNO,
               CALYEAR,
               CALMONTH,
               CALDAY,
               CALTIME,
               CALREQ,
               CALDATE,
               CALCONTENTS
        FROM CALENDAR
        ORDER BY CALDATE ASC
    </select>
   
    
    <select id="getSchedulesByMonth" parameterType="String" resultType="woo.edu.c.vo.CalendarVo">
        SELECT CALNO,
               CALYEAR,
               CALMONTH,
               CALDAY,
               CALTIME,
               CALREQ,
               CALDATE,
               CALCONTENTS
        FROM CALENDAR
        WHERE TO_CHAR(CALDATE, 'YYYY-MM') = #{month}
    </select>
    
    <insert id="insertCalendar" parameterType="woo.edu.c.vo.CalendarVo">
    INSERT INTO CALENDAR (
        CALNO, 
        CALYEAR, 
        CALMONTH, 
        CALDAY, 
        CALTIME, 
        CALREQ, 
        CALDATE, 
        CALCONTENTS
    )
    VALUES (
        #{calNo}, 
        #{calYear}, 
        #{calMonth}, 
        #{calDay}, 
        #{calTime}, 
        #{calReq}, 
        #{calDate}, 
        #{calContents}
    )
	</insert>

	    
    <delete id="deleteCalendar" parameterType="int">
        DELETE FROM CALENDAR
        WHERE CALNO = #{calNo}
    </delete>
    
</mapper>
